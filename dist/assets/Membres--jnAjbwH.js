import{r as u,b as f,c as b,a as t,j as s,e as v,g as d,o as P}from"./index-_zfimlV6.js";import{_ as n,S as M}from"./SubmitButton-CHjKaNmm.js";import{_ as D}from"./TableElement-CYDzTexO.js";const A={__name:"Membres",setup(U){const i=u([]),o=u({prenom:"",nom:"",pseudo:"",motDePasse:"",admin:!1});async function r(){await d.post("/membres",o.value),m(),o.value={prenom:"",nom:"",pseudo:"",motDePasse:"",admin:!1}}async function p(a){await d.delete(`/membres/${a}`),m()}async function m(){const a=await d.get("http://localhost:8080/api/membres");i.value=a.data}return f(()=>{m()}),(a,e)=>(P(),b("main",null,[e[6]||(e[6]=t("h2",null,"Ajouter un membre",-1)),t("form",{method:"post",onSubmit:v(r,["prevent"])},[s(n,{label:"Prenom",field:o.value.prenom,"onUpdate:field":e[0]||(e[0]=l=>o.value.prenom=l)},null,8,["field"]),s(n,{label:"Nom",field:o.value.nom,"onUpdate:field":e[1]||(e[1]=l=>o.value.nom=l)},null,8,["field"]),s(n,{label:"pseudo",field:o.value.pseudo,"onUpdate:field":e[2]||(e[2]=l=>o.value.pseudo=l)},null,8,["field"]),s(n,{label:"MotDePasse",field:o.value.motDePasse,"onUpdate:field":e[3]||(e[3]=l=>o.value.motDePasse=l)},null,8,["field"]),s(n,{label:"Admin",type:"checkbox",field:o.value.admin,"onUpdate:field":e[4]||(e[4]=l=>o.value.admin=l)},null,8,["field"]),s(M)],32),e[7]||(e[7]=t("h2",null,"Liste des membres",-1)),s(D,{labels:["Id","Pseudo","Nom","Prenom","Pseudo","Mot de Passe","Admin","Action"],elements:i.value,fields:["id","pseudo","nom","prenom","pseudo","motDePasse","admin"],onDelete:e[5]||(e[5]=l=>p(l.id))},null,8,["elements"])]))}};export{A as default};
