import{r as i,b as d,c,a as l,t as p,j as o,e as v,s as _,g as r,o as b,x as $}from"./index-B4XMGRGs.js";import{_ as g,S as x}from"./SubmitButton-DXjDffyr.js";import{_ as y}from"./TextareaFormElement-Dkv5Lmj4.js";const j={__name:"Avis",setup(B){i([]),i([]);const u=_(),a=i({titre:"",genre:{id:""},realisateur:{id:""},acteurs:[]}),t=i({});async function m(){await r.post(`/films/${a.value.id}/avis`,t.value),$.push(`/films/${a.value.id}`)}async function f(){const n=u.params.id,e=await r.get(`/films/${n}`);a.value=e.data}return d(()=>{f()}),(n,e)=>(b(),c("main",null,[l("h2",null,"Nouvel avis du film : "+p(a.value.titre),1),l("form",{method:"post",onSubmit:v(m,["prevent"])},[o(g,{label:"Note",type:"number",field:t.value.note,"onUpdate:field":e[0]||(e[0]=s=>t.value.note=s)},null,8,["field"]),o(y,{label:"Commentaire",field:t.value.commentaire,"onUpdate:field":e[1]||(e[1]=s=>t.value.commentaire=s)},null,8,["field"]),o(x)],32)]))}};export{j as default};
