import{r as p,b as f,c,a as s,j as i,e as v,g as r,o as P}from"./index-B4XMGRGs.js";import{_ as m,S as b}from"./SubmitButton-DXjDffyr.js";import{_ as w}from"./TableElement-CU85ywGp.js";const x={__name:"Participants",setup(B){const l=p([]),e=p({prenom:"",nom:""});async function u(){await r.post("/participants",e.value),o(),e.value={prenom:"",nom:""}}async function d(a){await r.delete(`/participants/${a}`),o()}async function o(){const a=await r.get("http://localhost:8080/api/participants");l.value=a.data}return f(()=>{o()}),(a,t)=>(P(),c("main",null,[t[3]||(t[3]=s("h2",null,"Ajouter un participant",-1)),s("form",{method:"post",onSubmit:v(u,["prevent"])},[i(m,{label:"Prenom",field:e.value.prenom,"onUpdate:field":t[0]||(t[0]=n=>e.value.prenom=n)},null,8,["field"]),i(m,{label:"Nom",field:e.value.nom,"onUpdate:field":t[1]||(t[1]=n=>e.value.nom=n)},null,8,["field"]),i(b)],32),t[4]||(t[4]=s("h2",null,"Liste des participants",-1)),i(w,{labels:["Id","Prenom","Nom","Action"],elements:l.value,fields:["id","prenom","nom"],onDelete:t[2]||(t[2]=n=>d(n.id))},null,8,["elements"])]))}};export{x as default};
