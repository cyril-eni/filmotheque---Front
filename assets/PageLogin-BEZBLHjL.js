import{r as a,c as r,a as e,l as c,t as g,w as u,v as i,g as f,x,o as m}from"./index-EAMqb5in.js";const y={key:0,class:"error"},_={class:"error"},b={class:"form-element"},w={class:"form-element"},V={__name:"PageLogin",emits:["login"],setup(D,{emit:d}){const p=d,o=a({pseudo:"",motDePasse:""}),s=a();async function v(){try{const l=await f.post("/login",o.value);localStorage.setItem("jwt",l.data),p("login"),x.push("/")}catch{s.value="erreur de connexion"}}return(l,t)=>(m(),r("main",null,[t[4]||(t[4]=e("h1",null,"Login",-1)),s.value?(m(),r("ul",y,[e("li",_,g(s.value),1)])):c("",!0),e("form",null,[e("div",b,[t[2]||(t[2]=e("label",null,"Pseudo",-1)),u(e("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=n=>o.value.pseudo=n)},null,512),[[i,o.value.pseudo]])]),e("div",w,[t[3]||(t[3]=e("label",null,"Mot de passe",-1)),u(e("input",{type:"password","onUpdate:modelValue":t[1]||(t[1]=n=>o.value.motDePasse=n)},null,512),[[i,o.value.motDePasse]])]),e("div",{class:"form-element"},[e("button",{type:"button",onClick:v},"Valider")])])]))}};export{V as default};
