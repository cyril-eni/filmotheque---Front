import{r as u,b as d,c as f,a,j as o,e as c,g as i,o as g}from"./index-B4XMGRGs.js";import{_ as v,S as G}from"./SubmitButton-DXjDffyr.js";import{_}from"./TableElement-CU85ywGp.js";const x={__name:"Genres",setup(b){const l=u([]),t=u({titre:""});async function m(){await i.post("/genres",t.value),s(),t.value={titre:""}}async function p(n){await i.delete(`/genres/${n}`),s()}async function s(){const n=await i.get("http://localhost:8080/api/genres");l.value=n.data}return d(()=>{s()}),(n,e)=>(g(),f("main",null,[e[2]||(e[2]=a("h2",null,"Ajouter une genre",-1)),a("form",{method:"post",onSubmit:c(m,["prevent"])},[o(v,{label:"Genre",field:t.value.titre,"onUpdate:field":e[0]||(e[0]=r=>t.value.titre=r)},null,8,["field"]),o(G)],32),e[3]||(e[3]=a("h2",null,"Liste des genres",-1)),o(_,{labels:["Id","Titre","Action"],elements:l.value,fields:["id","titre"],onDelete:e[1]||(e[1]=r=>p(r.id))},null,8,["elements"])]))}};export{x as default};
